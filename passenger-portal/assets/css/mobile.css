/**
 * passenger-portal/assets/css/mobile.css
 * Optimizaciones específicas para dispositivos móviles
 */

/* Detección de dispositivos móviles */
@media (max-width: 768px) {
    /* Ajustes generales */
    html {
        font-size: 14px;
    }
    
    body {
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
    }
    
    /* Header móvil */
    .portal-header {
        height: 56px;
        padding: 0 3%;
    }
    
    .nav-menu {
        display: none;
    }
    
    .company-logo {
        height: 32px;
    }
    
    .company-name {
        font-size: 1.25rem;
    }
    
    /* Navegación móvil (hamburger menu) */
    .mobile-menu-toggle {
        display: flex;
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        padding: 0.5rem;
        cursor: pointer;
    }
    
    .mobile-nav {
        position: fixed;
        top: 56px;
        left: -100%;
        width: 80%;
        max-width: 300px;
        height: calc(100vh - 56px);
        background: var(--bg-secondary);
        transition: left 0.3s ease;
        z-index: 999;
        overflow-y: auto;
    }
    
    .mobile-nav.active {
        left: 0;
    }
    
    .mobile-nav-overlay {
        position: fixed;
        top: 56px;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 998;
    }
    
    .mobile-nav-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    
    .mobile-nav-list {
        list-style: none;
        padding: 0;
    }
    
    .mobile-nav-item {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .mobile-nav-link {
        display: block;
        padding: 1rem 1.5rem;
        color: var(--text-primary);
        text-decoration: none;
        font-size: 1.125rem;
        transition: background 0.2s;
    }
    
    .mobile-nav-link:active {
        background: rgba(255, 255, 255, 0.1);
    }
    
    /* Hero Banner móvil */
    .hero-banner {
        height: 60vh;
        min-height: 400px;
    }
    
    .hero-info {
        max-width: 100%;
    }
    
    .hero-title {
        font-size: 1.75rem;
        margin-bottom: 0.5rem;
    }
    
    .hero-description {
        font-size: 1rem;
        margin-bottom: 1rem;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    .hero-buttons {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
    }
    
    .btn {
        padding: 0.75rem 1rem;
        font-size: 1rem;
        justify-content: center;
    }
    
    /* Secciones de contenido móvil */
    .content-section {
        padding: 1rem 3%;
        margin-bottom: 1rem;
    }
    
    .section-title {
        font-size: 1.25rem;
    }
    
    .see-all {
        font-size: 0.75rem;
    }
    
    /* Carrusel móvil */
    .content-carousel {
        margin: 0 -3%;
        padding: 0 3%;
    }
    
    .content-card {
        width: 120px;
    }
    
    .card-thumbnail {
        border-radius: 4px;
    }
    
    .card-info {
        padding: 0.5rem;
    }
    
    .card-title {
        font-size: 0.75rem;
    }
    
    .card-meta {
        font-size: 0.625rem;
    }
    
    /* Touch gestures */
    .carousel-track {
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
    }
    
    .content-card {
        scroll-snap-align: start;
    }
    
    /* Reproductores móvil */
    .video-container,
    .music-player-container {
        touch-action: manipulation;
    }
    
    .controls-overlay {
        padding: 15px;
    }
    
    .play-pause-btn {
        font-size: 20px;
        padding: 8px;
    }
    
    .time-display {
        font-size: 12px;
    }
    
    /* Música móvil */
    .music-player-container {
        flex-direction: column;
    }
    
    .player-main {
        flex: 1;
        padding: 1rem;
    }
    
    .album-artwork {
        width: 200px;
        height: 200px;
        margin-bottom: 1.5rem;
    }
    
    .track-title {
        font-size: 1.25rem;
    }
    
    .track-artist {
        font-size: 1rem;
    }
    
    .playlist-panel {
        width: 100%;
        height: 40%;
        order: 2;
    }
    
    /* Juegos móvil */
    .game-header {
        padding: 0.5rem 1rem;
    }
    
    .game-title {
        font-size: 1rem;
    }
    
    .control-button {
        padding: 0.4rem 0.8rem;
        font-size: 0.75rem;
    }
    
    .control-button span {
        display: none;
    }
    
    .mobile-controls {
        display: flex;
    }
    
    /* Formularios móvil */
    input,
    select,
    textarea {
        font-size: 16px; /* Evita zoom en iOS */
    }
    
    /* Footer móvil */
    .portal-footer {
        padding: 1rem 3%;
        font-size: 0.75rem;
    }
}

/* Dispositivos muy pequeños */
@media (max-width: 480px) {
    .hero-title {
        font-size: 1.5rem;
    }
    
    .content-card {
        width: 100px;
    }
    
    .album-artwork {
        width: 150px;
        height: 150px;
    }
}

/* Orientación landscape */
@media (max-width: 768px) and (orientation: landscape) {
    .hero-banner {
        height: 80vh;
    }
    
    .video-container {
        height: 100vh;
    }
    
    .controls-overlay {
        padding: 10px;
    }
}

/* Touch-specific styles */
@media (hover: none) and (pointer: coarse) {
    /* Botones más grandes para dedos */
    .btn,
    .control-btn {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Eliminar hover effects en touch */
    .content-card:hover {
        transform: none;
    }
    
    .content-card .card-info {
        opacity: 1;
    }
    
    /* Scrollbars táctiles */
    .carousel-track {
        scrollbar-width: none;
    }
    
    .carousel-track::-webkit-scrollbar {
        display: none;
    }
}

/* Safe areas para iPhone X+ */
@supports (padding: max(0px)) {
    .portal-header {
        padding-top: max(0px, env(safe-area-inset-top));
    }
    
    .portal-footer {
        padding-bottom: max(0px, env(safe-area-inset-bottom));
    }
    
    .mobile-nav {
        padding-bottom: max(0px, env(safe-area-inset-bottom));
    }
}

/* Optimizaciones de rendimiento */
@media (max-width: 768px) {
    /* Reducir animaciones en móvil */
    * {
        animation-duration: 0.2s !important;
        transition-duration: 0.2s !important;
    }
    
    /* Desactivar efectos pesados */
    .hero-backdrop {
        filter: none;
    }
    
    .visualizer-container {
        display: none;
    }
    
    /* Lazy loading más agresivo */
    img {
        content-visibility: auto;
    }
}

/* Modo oscuro automático */
@media (prefers-color-scheme: dark) {
    :root {
        --bg-primary: #0a0a0a;
        --bg-secondary: #141414;
    }
}

/* Accesibilidad móvil */
@media (max-width: 768px) {
    /* Tamaños mínimos táctiles */
    a,
    button,
    .clickable {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Contraste mejorado */
    .text-secondary {
        color: #d0d0d0;
    }
}

/* PWA specific */
@media (display-mode: standalone) {
    .portal-header {
        padding-top: 20px;
    }
}

/* Notch/Dynamic Island handling */
@supports (padding: env(safe-area-inset-top)) {
    .video-container,
    .game-container {
        padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    }
}